@using RazorAlerts

@if (TempData.ContainsKey(RazorAlerts.AlertExtensions.AlertKey) && TempData[RazorAlerts.AlertExtensions.AlertKey] is List<string> alertList && alertList.Any())
{
    <script>
    @foreach (var alert in alertList.ToArray())
    {
            var obj = Newtonsoft.Json.JsonConvert.DeserializeObject<RazorAlerts.Alert>(alert);
            alertList.Remove(alert);
            var alertHtml = await Html.PartialAsync("_Alert", obj);
            var alertString = alertHtml.GetHtmlString();
            var alertJavascriptString = System.Web.HttpUtility.JavaScriptStringEncode(alertString);
            <text>
            $(".alert-container").append("@Html.Raw(alertJavascriptString)");
            </text>
        }
    </script>
}
